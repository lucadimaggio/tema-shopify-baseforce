// Refactor Codex - 07/06/2025
{% schema %}
{
  "name": "Reviews Carousel",
  "settings": [],
  "blocks": [
    {
      "type": "review",
      "name": "Review",
      "settings": [
        {
          "type": "text",
          "id": "reviewer_name",
          "label": "Reviewer Name",
          "default": "John Doe"
        },
        {
          "type": "text",
          "id": "review_date",
          "label": "Review Date",
          "default": "01 Jan 2024"
        },
        {
          "type": "text",
          "id": "review_title",
          "label": "Review Title",
          "default": "Great Product!"
        },
        {
          "type": "textarea",
          "id": "review_text",
          "label": "Review Text",
          "default": "This is an amazing product. Highly recommend!"
        },
        {
          "type": "image_picker",
          "id": "reviewer_image",
          "label": "Reviewer Image"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Reviews Carousel",
      "category": "Custom"
    }
  ]
}
{% endschema %}

<div class="carousel{% if settings.animations_reveal_on_scroll %} scroll-trigger animate--fade-in{% endif %}" id="reviewCarousel"> {# Codex #}
  <div class="carousel-inner">
    {% for block in section.blocks %}
      <div class="carousel-item{% if forloop.first %} active{% endif %}">
        <div class="review-card">
          <div class="reviewer-info">
            <img src="{{ block.settings.reviewer_image | image_url: width: 200, height: 50 }}" alt="Reviewer Image" class="reviewer-img">
            <div>
              <div class="reviewer-name">{{ block.settings.reviewer_name }}</div>
              <div class="review-date">{{ block.settings.review_date }}</div>
            </div>
          </div>
          <div class="review-title">{{ block.settings.review_title }}</div>
          <div class="review-text">{{ block.settings.review_text }}</div>
        </div>
      </div>
    {% endfor %}
  </div>

  <div class="carousel-dots">
    {% for block in section.blocks %}
      <button class="carousel-dot{% if forloop.first %} active{% endif %}" aria-label="Go to review {{ forloop.index }}"> </button> {# Codex #}
    {% endfor %}
  </div>
  <button id="reviewCarouselPrev" class="carousel-control-prev" aria-label="Previous review">&#10094;</button> {# Codex #}
  <button id="reviewCarouselNext" class="carousel-control-next" aria-label="Next review">&#10095;</button> {# Codex #}
</div>

<script src="{{ 'reviews-carousel.js' | asset_url }}" defer></script> {# Codex #}

{{ 'reviews-carousel.css' | asset_url | stylesheet_tag }} {# Codex #}

